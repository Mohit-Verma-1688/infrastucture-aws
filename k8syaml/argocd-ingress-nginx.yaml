apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
    annotations:
      nginx.ingress.kubernetes.io/backend-protocol: "HTTPS"
      cert-manager.io/issuer: letsencrypt-dns01-staging
      nginx.ingress.kubernetes.io/ssl-passthrough: 'true'
    name: argocd
    namespace: argocd
spec:
    rules:
    - host: argocd.themulticlouding.com
      http:
        paths:
        - path: /
          pathType: Prefix
          backend:
            service:
              name: argocd-eks-server
              port:
                name: https
    ingressClassName: "external-nginx"
    tls:
    - hosts:
      - argocd.themulticlouding.com
      secretName: argocd-secret
